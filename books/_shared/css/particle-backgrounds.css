/**
 * Book Genesis Engine â€” Particle Background System
 * Animated canvas backgrounds with theme-aware particles
 * 
 * Usage: Include particle-canvas element and particle-bg.js
 */

/* ==========================================================================
   Canvas Container
   ========================================================================== */

.bg-canvas {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: var(--z-below, -1);
    pointer-events: none;
}

.bg-canvas canvas {
    width: 100%;
    height: 100%;
}


/* ==========================================================================
   CSS-Only Gradient Backgrounds (Fallback / Lightweight Alternative)
   ========================================================================== */

/* Radial gradient from center */
.bg-gradient-radial {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: var(--z-below, -1);
    pointer-events: none;
    background: radial-gradient(
        ellipse at 50% 30%,
        rgba(var(--accent-primary-rgb, 212, 165, 116), 0.08) 0%,
        transparent 60%
    );
}

/* Multiple overlapping gradients for depth */
.bg-gradient-cosmic {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: var(--z-below, -1);
    pointer-events: none;
    background: 
        radial-gradient(
            ellipse at 20% 20%,
            rgba(var(--accent-primary-rgb, 212, 165, 116), 0.05) 0%,
            transparent 40%
        ),
        radial-gradient(
            ellipse at 80% 80%,
            rgba(var(--accent-primary-rgb, 212, 165, 116), 0.03) 0%,
            transparent 50%
        ),
        radial-gradient(
            ellipse at 50% 50%,
            rgba(255, 255, 255, 0.01) 0%,
            transparent 70%
        );
}

/* Animated gradient background */
.bg-gradient-animated {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: var(--z-below, -1);
    pointer-events: none;
    background: linear-gradient(
        45deg,
        rgba(var(--accent-primary-rgb, 212, 165, 116), 0.03) 0%,
        transparent 50%,
        rgba(var(--accent-primary-rgb, 212, 165, 116), 0.02) 100%
    );
    background-size: 200% 200%;
    animation: gradientShift 15s ease infinite;
}

@keyframes gradientShift {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
}


/* ==========================================================================
   CSS Dot Grid Pattern
   ========================================================================== */

.bg-dots {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: var(--z-below, -1);
    pointer-events: none;
    background-image: radial-gradient(
        rgba(var(--accent-primary-rgb, 212, 165, 116), 0.15) 1px,
        transparent 1px
    );
    background-size: 40px 40px;
    opacity: 0.3;
}

/* Animated floating dots */
.bg-dots-floating {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: var(--z-below, -1);
    pointer-events: none;
    background-image: radial-gradient(
        rgba(var(--accent-primary-rgb, 212, 165, 116), 0.2) 1px,
        transparent 1px
    );
    background-size: 50px 50px;
    animation: dotsFloat 20s linear infinite;
}

@keyframes dotsFloat {
    0% { background-position: 0 0; }
    100% { background-position: 50px 50px; }
}


/* ==========================================================================
   CSS Glow Effects
   ========================================================================== */

/* Top glow */
.glow-top {
    position: fixed;
    top: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 60%;
    height: 400px;
    background: radial-gradient(
        ellipse at center top,
        rgba(var(--accent-primary-rgb, 212, 165, 116), 0.12) 0%,
        transparent 70%
    );
    z-index: var(--z-below, -1);
    pointer-events: none;
}

/* Bottom glow */
.glow-bottom {
    position: fixed;
    bottom: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 80%;
    height: 300px;
    background: radial-gradient(
        ellipse at center bottom,
        rgba(var(--accent-primary-rgb, 212, 165, 116), 0.08) 0%,
        transparent 60%
    );
    z-index: var(--z-below, -1);
    pointer-events: none;
}

/* Cursor-following glow (requires JS) */
.glow-cursor {
    position: fixed;
    width: 400px;
    height: 400px;
    border-radius: 50%;
    background: radial-gradient(
        circle,
        rgba(var(--accent-primary-rgb, 212, 165, 116), 0.1) 0%,
        transparent 70%
    );
    transform: translate(-50%, -50%);
    pointer-events: none;
    z-index: var(--z-above, 1);
    opacity: 0;
    transition: opacity 0.3s ease;
}

.glow-cursor.active {
    opacity: 1;
}


/* ==========================================================================
   Noise Texture Overlay
   ========================================================================== */

.bg-noise {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: var(--z-above, 1);
    pointer-events: none;
    opacity: 0.03;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
}


/* ==========================================================================
   Vignette Effect
   ========================================================================== */

.bg-vignette {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: var(--z-above, 1);
    pointer-events: none;
    background: radial-gradient(
        ellipse at center,
        transparent 40%,
        rgba(0, 0, 0, 0.4) 100%
    );
}

.bg-vignette-subtle {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: var(--z-above, 1);
    pointer-events: none;
    background: radial-gradient(
        ellipse at center,
        transparent 60%,
        rgba(0, 0, 0, 0.2) 100%
    );
}


/* ==========================================================================
   Section-Specific Background Treatments
   ========================================================================== */

/* Hero section gradient overlay */
.hero-bg {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 0;
    pointer-events: none;
    background: linear-gradient(
        180deg,
        rgba(var(--accent-primary-rgb, 212, 165, 116), 0.03) 0%,
        transparent 50%
    );
}

/* Section divider gradient */
.section-divider-gradient {
    position: relative;
}

.section-divider-gradient::before {
    content: '';
    position: absolute;
    top: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 200px;
    height: 1px;
    background: linear-gradient(
        90deg,
        transparent 0%,
        rgba(var(--accent-primary-rgb, 212, 165, 116), 0.4) 50%,
        transparent 100%
    );
}

/* Card glow on hover */
.card-glow:hover {
    box-shadow: 
        0 4px 20px rgba(0, 0, 0, 0.3),
        0 0 40px rgba(var(--accent-primary-rgb, 212, 165, 116), 0.1);
}


/* ==========================================================================
   Theme-Specific Background Variations
   ========================================================================== */

[data-theme="violet"] .bg-gradient-radial,
[data-theme="violet"] .bg-gradient-cosmic,
[data-theme="violet"] .glow-top,
[data-theme="violet"] .glow-bottom {
    --accent-primary-rgb: 139, 92, 246;
}

[data-theme="cyan"] .bg-gradient-radial,
[data-theme="cyan"] .bg-gradient-cosmic,
[data-theme="cyan"] .glow-top,
[data-theme="cyan"] .glow-bottom {
    --accent-primary-rgb: 6, 182, 212;
}

[data-theme="emerald"] .bg-gradient-radial,
[data-theme="emerald"] .bg-gradient-cosmic,
[data-theme="emerald"] .glow-top,
[data-theme="emerald"] .glow-bottom {
    --accent-primary-rgb: 16, 185, 129;
}

[data-theme="rose"] .bg-gradient-radial,
[data-theme="rose"] .bg-gradient-cosmic,
[data-theme="rose"] .glow-top,
[data-theme="rose"] .glow-bottom {
    --accent-primary-rgb: 244, 63, 94;
}

[data-theme="amber"] .bg-gradient-radial,
[data-theme="amber"] .bg-gradient-cosmic,
[data-theme="amber"] .glow-top,
[data-theme="amber"] .glow-bottom {
    --accent-primary-rgb: 245, 158, 11;
}


/* ==========================================================================
   Performance Optimizations
   ========================================================================== */

/* Reduce motion for accessibility */
@media (prefers-reduced-motion: reduce) {
    .bg-gradient-animated,
    .bg-dots-floating {
        animation: none;
    }
    
    .glow-cursor {
        display: none;
    }
}

/* Lower quality backgrounds on mobile for performance */
@media (max-width: 768px) {
    .bg-canvas {
        /* Consider reducing particle count via JS */
    }
    
    .bg-noise {
        display: none;
    }
}


