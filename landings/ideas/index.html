<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mobile App Masterpieces ‚Äî 33 Genius Ideas</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Instrument+Sans:wght@400;500;600;700&family=Fraunces:ital,opsz,wght@0,9..144,300;0,9..144,400;0,9..144,500&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../shared/nav.css">
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --bg: #08080c;
            --surface: #101014;
            --surface-2: #18181c;
            --surface-3: #1f1f24;
            --border: rgba(255, 255, 255, 0.06);
            --border-hover: rgba(255, 255, 255, 0.12);
            --text: #fafafa;
            --text-muted: #71717a;
            --text-subtle: #52525b;
            --accent: #8b5cf6;
            --accent-glow: rgba(139, 92, 246, 0.15);
            --green: #22c55e;
            --green-glow: rgba(34, 197, 94, 0.15);
            --amber: #f59e0b;
            --amber-glow: rgba(245, 158, 11, 0.15);
            --red: #ef4444;
            --blue: #3b82f6;
            --cyan: #06b6d4;
        }

        body {
            font-family: 'Instrument Sans', system-ui, sans-serif;
            background: var(--bg);
            color: var(--text);
            min-height: 100vh;
            line-height: 1.6;
        }

        /* Sub Navigation */
        .sub-nav {
            position: sticky;
            top: 80px;
            z-index: 90;
            background: rgba(8, 8, 12, 0.95);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid var(--border);
        }

        .sub-nav-inner {
            max-width: 1400px;
            margin: 0 auto;
            padding: 12px 24px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 24px;
        }

        .sub-nav-title {
            display: flex;
            align-items: center;
            gap: 10px;
            font-family: 'Fraunces', Georgia, serif;
            font-size: 1.125rem;
            font-weight: 400;
        }

        .sub-nav-icon {
            font-size: 1.25rem;
        }

        .sub-nav-tabs {
            display: flex;
            gap: 6px;
            padding: 4px;
            background: rgba(255, 255, 255, 0.03);
            border-radius: 12px;
        }

        .sub-nav-btn {
            padding: 8px 16px;
            background: transparent;
            border: none;
            border-radius: 8px;
            color: var(--text-muted);
            cursor: pointer;
            font-size: 0.8125rem;
            font-family: inherit;
            transition: all 0.2s ease;
        }

        .sub-nav-btn:hover {
            color: var(--text);
            background: rgba(255, 255, 255, 0.05);
        }

        .sub-nav-btn.active {
            background: var(--green);
            color: white;
        }

        @media (max-width: 600px) {
            .sub-nav-inner {
                flex-direction: column;
                gap: 12px;
            }
            
            .sub-nav-tabs {
                width: 100%;
                justify-content: center;
            }
        }

        /* Hero Section */
        .hero {
            max-width: 1400px;
            margin: 0 auto;
            padding: 64px 24px 48px;
            text-align: center;
        }

        .hero-badge {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 8px 16px;
            background: var(--green-glow);
            border: 1px solid rgba(34, 197, 94, 0.2);
            border-radius: 100px;
            font-size: 0.8125rem;
            color: var(--green);
            margin-bottom: 24px;
        }

        .hero-title {
            font-family: 'Fraunces', Georgia, serif;
            font-size: clamp(2rem, 5vw, 3.5rem);
            font-weight: 400;
            line-height: 1.2;
            margin-bottom: 16px;
        }

        .hero-title span {
            background: linear-gradient(135deg, var(--accent), #c084fc, var(--cyan));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .hero-desc {
            font-size: 1.125rem;
            color: var(--text-muted);
            max-width: 600px;
            margin: 0 auto 32px;
        }

        /* Stats Bar */
        .stats-bar {
            display: flex;
            justify-content: center;
            gap: 48px;
            padding: 24px;
            background: var(--surface);
            border: 1px solid var(--border);
            border-radius: 16px;
            max-width: 800px;
            margin: 0 auto;
        }

        .stat-item {
            text-align: center;
        }

        .stat-value {
            font-family: 'JetBrains Mono', monospace;
            font-size: 2rem;
            font-weight: 600;
            color: var(--accent);
        }

        .stat-label {
            font-size: 0.75rem;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.1em;
        }

        /* Main Content */
        .main {
            max-width: 1400px;
            margin: 0 auto;
            padding: 48px 24px 100px;
        }

        /* View Sections */
        .view-section {
            display: none;
        }

        .view-section.active {
            display: block;
        }

        /* Section Title */
        .section-title {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 32px;
        }

        .section-title h2 {
            font-family: 'Fraunces', Georgia, serif;
            font-size: 1.5rem;
            font-weight: 400;
        }

        .section-title .count {
            padding: 4px 12px;
            background: var(--surface-2);
            border-radius: 100px;
            font-size: 0.8125rem;
            color: var(--text-muted);
        }

        /* Tier Filters */
        .tier-filters {
            display: flex;
            gap: 8px;
            margin-bottom: 24px;
            flex-wrap: wrap;
        }

        .tier-btn {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 10px 18px;
            background: var(--surface);
            border: 1px solid var(--border);
            border-radius: 100px;
            color: var(--text-muted);
            cursor: pointer;
            font-size: 0.875rem;
            font-family: inherit;
            transition: all 0.2s ease;
        }

        .tier-btn:hover {
            border-color: var(--border-hover);
            color: var(--text);
        }

        .tier-btn.active {
            background: var(--accent-glow);
            border-color: var(--accent);
            color: var(--text);
        }

        .tier-btn .badge {
            padding: 2px 8px;
            background: rgba(255,255,255,0.1);
            border-radius: 100px;
            font-size: 0.75rem;
        }

        .tier-s { --tier-color: #fbbf24; }
        .tier-a { --tier-color: #a78bfa; }
        .tier-b { --tier-color: #60a5fa; }
        .tier-c { --tier-color: #9ca3af; }

        /* Masterpiece Grid */
        .masterpiece-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(380px, 1fr));
            gap: 20px;
        }

        @media (max-width: 450px) {
            .masterpiece-grid {
                grid-template-columns: 1fr;
            }
        }

        /* Masterpiece Card */
        .masterpiece-card {
            background: var(--surface);
            border: 1px solid var(--border);
            border-radius: 20px;
            overflow: hidden;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .masterpiece-card:hover {
            border-color: var(--border-hover);
            transform: translateY(-4px);
            box-shadow: 0 20px 60px -15px rgba(0, 0, 0, 0.5);
        }

        .card-header {
            padding: 20px 20px 16px;
            display: flex;
            align-items: flex-start;
            justify-content: space-between;
            gap: 16px;
        }

        .card-icon {
            width: 48px;
            height: 48px;
            background: var(--surface-2);
            border-radius: 14px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            flex-shrink: 0;
        }

        .card-meta {
            flex: 1;
        }

        .card-tier {
            display: inline-block;
            padding: 3px 10px;
            border-radius: 6px;
            font-size: 0.6875rem;
            font-weight: 700;
            letter-spacing: 0.05em;
            margin-bottom: 6px;
        }

        .card-tier.tier-s {
            background: rgba(251, 191, 36, 0.15);
            color: #fbbf24;
        }

        .card-tier.tier-a {
            background: rgba(167, 139, 250, 0.15);
            color: #a78bfa;
        }

        .card-tier.tier-b {
            background: rgba(96, 165, 250, 0.15);
            color: #60a5fa;
        }

        .card-tier.tier-c {
            background: rgba(156, 163, 175, 0.15);
            color: #9ca3af;
        }

        .card-name {
            font-size: 1.125rem;
            font-weight: 600;
            margin-bottom: 2px;
        }

        .card-category {
            font-size: 0.8125rem;
            color: var(--text-muted);
        }

        .card-score {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 8px;
            background: var(--surface-2);
            border-radius: 12px;
        }

        .score-value {
            font-family: 'JetBrains Mono', monospace;
            font-size: 1.25rem;
            font-weight: 600;
            color: var(--green);
        }

        .score-label {
            font-size: 0.625rem;
            color: var(--text-muted);
            text-transform: uppercase;
        }

        .card-tagline {
            padding: 0 20px 16px;
            font-size: 0.9375rem;
            color: var(--text-muted);
            font-style: italic;
        }

        .card-metrics {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1px;
            background: var(--border);
            border-top: 1px solid var(--border);
        }

        .metric {
            background: var(--surface);
            padding: 12px;
            text-align: center;
        }

        .metric-value {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.9375rem;
            font-weight: 600;
            color: var(--text);
        }

        .metric-label {
            font-size: 0.6875rem;
            color: var(--text-muted);
        }

        .card-footer {
            padding: 16px 20px;
            background: var(--surface-2);
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .card-cta {
            font-size: 0.8125rem;
            color: var(--accent);
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .quick-pros {
            display: flex;
            gap: 6px;
        }

        .quick-pro {
            padding: 4px 10px;
            background: var(--green-glow);
            border-radius: 6px;
            font-size: 0.6875rem;
            color: var(--green);
        }

        /* Modal */
        .modal-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.85);
            backdrop-filter: blur(12px);
            z-index: 200;
            display: none;
            align-items: flex-start;
            justify-content: center;
            padding: 40px 24px;
            overflow-y: auto;
        }

        .modal-overlay.open {
            display: flex;
        }

        .modal {
            background: var(--surface);
            border: 1px solid var(--border);
            border-radius: 24px;
            max-width: 900px;
            width: 100%;
            overflow: hidden;
        }

        .modal-header {
            display: flex;
            align-items: center;
            gap: 16px;
            padding: 24px;
            border-bottom: 1px solid var(--border);
            background: var(--surface-2);
        }

        .modal-icon {
            width: 56px;
            height: 56px;
            background: var(--surface);
            border-radius: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.75rem;
        }

        .modal-title-group {
            flex: 1;
        }

        .modal-tier {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 6px;
            font-size: 0.75rem;
            font-weight: 700;
            margin-bottom: 4px;
        }

        .modal-title {
            font-family: 'Fraunces', Georgia, serif;
            font-size: 1.75rem;
            font-weight: 400;
        }

        .modal-close {
            width: 40px;
            height: 40px;
            border-radius: 12px;
            background: transparent;
            border: 1px solid var(--border);
            color: var(--text-muted);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s ease;
        }

        .modal-close:hover {
            background: var(--surface);
            color: var(--text);
        }

        .modal-body {
            padding: 24px;
        }

        /* Modal Sections */
        .modal-section {
            margin-bottom: 32px;
        }

        .modal-section:last-child {
            margin-bottom: 0;
        }

        .modal-section-title {
            font-size: 0.6875rem;
            font-weight: 700;
            letter-spacing: 0.15em;
            text-transform: uppercase;
            color: var(--text-muted);
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .modal-section-title::after {
            content: '';
            flex: 1;
            height: 1px;
            background: var(--border);
        }

        /* Score Display */
        .score-display {
            display: flex;
            gap: 16px;
            flex-wrap: wrap;
        }

        .score-card {
            flex: 1;
            min-width: 120px;
            padding: 16px;
            background: var(--surface-2);
            border-radius: 12px;
            text-align: center;
        }

        .score-card-value {
            font-family: 'JetBrains Mono', monospace;
            font-size: 1.5rem;
            font-weight: 600;
        }

        .score-card-value.green { color: var(--green); }
        .score-card-value.amber { color: var(--amber); }
        .score-card-value.blue { color: var(--blue); }

        .score-card-label {
            font-size: 0.75rem;
            color: var(--text-muted);
        }

        /* Problem/Solution */
        .problem-solution {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 16px;
        }

        @media (max-width: 600px) {
            .problem-solution {
                grid-template-columns: 1fr;
            }
        }

        .ps-card {
            padding: 20px;
            border-radius: 14px;
        }

        .ps-card.problem {
            background: rgba(239, 68, 68, 0.08);
            border: 1px solid rgba(239, 68, 68, 0.2);
        }

        .ps-card.solution {
            background: rgba(34, 197, 94, 0.08);
            border: 1px solid rgba(34, 197, 94, 0.2);
        }

        .ps-label {
            font-size: 0.6875rem;
            font-weight: 700;
            letter-spacing: 0.1em;
            text-transform: uppercase;
            margin-bottom: 8px;
        }

        .ps-card.problem .ps-label { color: var(--red); }
        .ps-card.solution .ps-label { color: var(--green); }

        .ps-text {
            font-size: 0.9375rem;
            color: var(--text-muted);
            line-height: 1.6;
        }

        /* Why It Sells */
        .why-sells {
            padding: 20px;
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.1), rgba(6, 182, 212, 0.1));
            border: 1px solid rgba(139, 92, 246, 0.2);
            border-radius: 14px;
        }

        .why-sells-icon {
            font-size: 1.5rem;
            margin-bottom: 8px;
        }

        .why-sells-text {
            font-size: 1rem;
            color: var(--text);
            line-height: 1.7;
        }

        /* Pros/Cons */
        .pros-cons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 16px;
        }

        @media (max-width: 600px) {
            .pros-cons {
                grid-template-columns: 1fr;
            }
        }

        .pc-list {
            padding: 20px;
            border-radius: 14px;
        }

        .pc-list.pros {
            background: rgba(34, 197, 94, 0.06);
            border: 1px solid rgba(34, 197, 94, 0.15);
        }

        .pc-list.cons {
            background: rgba(245, 158, 11, 0.06);
            border: 1px solid rgba(245, 158, 11, 0.15);
        }

        .pc-title {
            font-size: 0.75rem;
            font-weight: 700;
            letter-spacing: 0.1em;
            text-transform: uppercase;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .pc-list.pros .pc-title { color: var(--green); }
        .pc-list.cons .pc-title { color: var(--amber); }

        .pc-items {
            list-style: none;
        }

        .pc-item {
            display: flex;
            align-items: flex-start;
            gap: 10px;
            font-size: 0.875rem;
            color: var(--text-muted);
            margin-bottom: 10px;
            line-height: 1.5;
        }

        .pc-item:last-child {
            margin-bottom: 0;
        }

        .pc-item::before {
            content: '';
            width: 6px;
            height: 6px;
            border-radius: 50%;
            margin-top: 6px;
            flex-shrink: 0;
        }

        .pc-list.pros .pc-item::before {
            background: var(--green);
        }

        .pc-list.cons .pc-item::before {
            background: var(--amber);
        }

        /* Features */
        .features-grid {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }

        .feature-tag {
            padding: 8px 14px;
            background: var(--surface-2);
            border: 1px solid var(--border);
            border-radius: 8px;
            font-size: 0.8125rem;
            color: var(--text-muted);
        }

        /* Target User */
        .target-user {
            padding: 16px 20px;
            background: var(--surface-2);
            border-radius: 12px;
            font-size: 0.9375rem;
            color: var(--text);
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .target-icon {
            font-size: 1.25rem;
        }

        /* CTA Section */
        .modal-cta {
            padding: 24px;
            background: var(--surface-2);
            border-top: 1px solid var(--border);
            display: flex;
            align-items: center;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: 16px;
        }

        .cta-info {
            font-size: 0.875rem;
            color: var(--text-muted);
        }

        .cta-buttons {
            display: flex;
            gap: 12px;
        }

        .cta-btn {
            padding: 12px 24px;
            border-radius: 10px;
            font-size: 0.875rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            font-family: inherit;
        }

        .cta-btn.primary {
            background: var(--accent);
            border: none;
            color: white;
        }

        .cta-btn.primary:hover {
            background: #7c3aed;
        }

        .cta-btn.secondary {
            background: transparent;
            border: 1px solid var(--border);
            color: var(--text);
        }

        .cta-btn.secondary:hover {
            border-color: var(--text-muted);
        }

        /* All Ideas Grid */
        .ideas-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
            gap: 16px;
        }

        .idea-card {
            background: var(--surface);
            border: 1px solid var(--border);
            border-radius: 14px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .idea-card:hover {
            border-color: var(--border-hover);
            transform: translateY(-2px);
        }

        .idea-id {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.6875rem;
            color: var(--text-muted);
            margin-bottom: 6px;
        }

        .idea-name {
            font-size: 1rem;
            font-weight: 600;
            margin-bottom: 8px;
        }

        .idea-tier {
            display: inline-block;
            padding: 4px 10px;
            background: var(--accent-glow);
            border-radius: 6px;
            font-size: 0.6875rem;
            color: var(--accent);
        }

        /* Category Grid */
        .category-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 12px;
            margin-bottom: 32px;
        }

        .category-btn {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 14px 18px;
            background: var(--surface);
            border: 1px solid var(--border);
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.2s ease;
            font-family: inherit;
            text-align: left;
        }

        .category-btn:hover {
            border-color: var(--border-hover);
        }

        .category-btn.active {
            background: var(--accent-glow);
            border-color: var(--accent);
        }

        .category-icon {
            font-size: 1.25rem;
        }

        .category-info {
            flex: 1;
        }

        .category-name {
            font-size: 0.875rem;
            font-weight: 600;
            color: var(--text);
        }

        .category-count {
            font-size: 0.75rem;
            color: var(--text-muted);
        }

        /* Empty State */
        .empty-state {
            text-align: center;
            padding: 64px 24px;
            color: var(--text-muted);
        }

        .empty-icon {
            font-size: 3rem;
            margin-bottom: 16px;
            opacity: 0.5;
        }

        /* Markdown Content */
        .markdown-content h1 { font-size: 1.75rem; margin-bottom: 16px; }
        .markdown-content h2 { font-size: 1.25rem; margin: 24px 0 12px; padding-bottom: 8px; border-bottom: 1px solid var(--border); }
        .markdown-content h3 { font-size: 1rem; margin: 16px 0 8px; }
        .markdown-content p { margin-bottom: 12px; color: var(--text-muted); }
        .markdown-content ul, .markdown-content ol { margin: 12px 0; padding-left: 20px; }
        .markdown-content li { margin-bottom: 6px; color: var(--text-muted); }
        .markdown-content code { font-family: 'JetBrains Mono', monospace; font-size: 0.8125rem; color: var(--accent); }
        .markdown-content pre { background: var(--bg); border: 1px solid var(--border); border-radius: 10px; padding: 14px; overflow-x: auto; margin: 12px 0; }
        .markdown-content pre code { color: var(--text-muted); }
    </style>
</head>
<body>
    <!-- Sub Navigation -->
    <div class="sub-nav">
        <div class="sub-nav-inner">
            <div class="sub-nav-title">
                <span class="sub-nav-icon">üíé</span>
                <span>App Masterpieces</span>
            </div>
            <nav class="sub-nav-tabs">
                <button class="sub-nav-btn active" data-view="masterpieces">üèÜ Masterpieces</button>
                <button class="sub-nav-btn" data-view="all-ideas">üìö All Ideas</button>
            </nav>
        </div>
    </div>

    <!-- Hero -->
    <section class="hero">
        <div class="hero-badge">
            <span>‚ú®</span>
            <span>33 Genius-Simple Mobile Apps</span>
        </div>
        <h1 class="hero-title">
            Ideas Evolved Into<br>
            <span>Category-Defining Products</span>
        </h1>
        <p class="hero-desc">
            Each idea has been refined through 3 evolution cycles, stress-tested by 5 AI minds, 
            and transformed into a masterpiece ready for weekend development.
        </p>
        <div class="stats-bar">
            <div class="stat-item">
                <div class="stat-value">33</div>
                <div class="stat-label">Masterpieces</div>
            </div>
            <div class="stat-item">
                <div class="stat-value">$180K</div>
                <div class="stat-label">Annual Potential</div>
            </div>
            <div class="stat-item">
                <div class="stat-value">48hr</div>
                <div class="stat-label">Avg MVP Time</div>
            </div>
        </div>
    </section>

    <main class="main">
        <!-- Masterpieces View -->
        <section class="view-section active" id="masterpiecesView">
            <div class="section-title">
                <h2>üèÜ Masterpiece Ideas</h2>
                <span class="count">33 ideas</span>
            </div>

            <div class="tier-filters">
                <button class="tier-btn active" data-tier="all">
                    All Tiers
                    <span class="badge">33</span>
                </button>
                <button class="tier-btn tier-s" data-tier="S">
                    ü•á Tier S
                    <span class="badge">3</span>
                </button>
                <button class="tier-btn tier-a" data-tier="A">
                    ü•à Tier A
                    <span class="badge">7</span>
                </button>
                <button class="tier-btn tier-b" data-tier="B">
                    ü•â Tier B
                    <span class="badge">12</span>
                </button>
                <button class="tier-btn tier-c" data-tier="C">
                    üìã Tier C
                    <span class="badge">11</span>
                </button>
            </div>

            <div class="masterpiece-grid" id="masterpieceGrid">
                <!-- Populated by JS -->
            </div>
        </section>

        <!-- All Ideas View -->
        <section class="view-section" id="allIdeasView">
            <div class="section-title">
                <h2>üìö All Original Ideas</h2>
                <span class="count" id="allIdeasCount">100 ideas</span>
            </div>

            <div class="category-grid" id="categoryGrid">
                <!-- Populated by JS -->
            </div>

            <div class="ideas-grid" id="ideasGrid">
                <!-- Populated by JS -->
            </div>
        </section>
    </main>

    <!-- Masterpiece Modal -->
    <div class="modal-overlay" id="masterpieceModal">
        <div class="modal">
            <div class="modal-header">
                <div class="modal-icon" id="modalIcon">üíº</div>
                <div class="modal-title-group">
                    <div class="modal-tier tier-s" id="modalTier">TIER S</div>
                    <h2 class="modal-title" id="modalTitle">QuoteCraft Pro</h2>
                </div>
                <button class="modal-close" id="modalClose">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M18 6L6 18M6 6l12 12"/>
                    </svg>
                </button>
            </div>
            <div class="modal-body" id="modalBody">
                <!-- Content populated by JS -->
            </div>
            <div class="modal-cta">
                <div class="cta-info">
                    <strong id="ctaPrice">$79.99</strong> ¬∑ <span id="ctaBuildTime">40-50 hrs build time</span>
                </div>
                <div class="cta-buttons">
                    <button class="cta-btn secondary" id="viewOriginal">View Original Spec</button>
                    <button class="cta-btn primary">üöÄ Start Building</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Original Idea Modal -->
    <div class="modal-overlay" id="ideaModal">
        <div class="modal">
            <div class="modal-header">
                <div class="modal-title-group">
                    <h2 class="modal-title" id="ideaModalTitle">Loading...</h2>
                </div>
                <button class="modal-close" id="ideaModalClose">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M18 6L6 18M6 6l12 12"/>
                    </svg>
                </button>
            </div>
            <div class="modal-body">
                <div class="markdown-content" id="ideaModalContent">Loading...</div>
            </div>
        </div>
    </div>

    <script src="../shared/nav.js"></script>
    <script src="ideas-data.js"></script>
    <script>
        // Initialize main navigation
        if (window.SELFNav) {
            window.SELFNav.injectNav();
        }

        // Elements
        const navBtns = document.querySelectorAll('.sub-nav-btn');
        const viewSections = document.querySelectorAll('.view-section');
        const tierBtns = document.querySelectorAll('.tier-btn');
        const masterpieceGrid = document.getElementById('masterpieceGrid');
        const categoryGrid = document.getElementById('categoryGrid');
        const ideasGrid = document.getElementById('ideasGrid');
        const allIdeasCount = document.getElementById('allIdeasCount');

        // Masterpiece Modal
        const masterpieceModal = document.getElementById('masterpieceModal');
        const modalIcon = document.getElementById('modalIcon');
        const modalTier = document.getElementById('modalTier');
        const modalTitle = document.getElementById('modalTitle');
        const modalBody = document.getElementById('modalBody');
        const modalClose = document.getElementById('modalClose');
        const ctaPrice = document.getElementById('ctaPrice');
        const ctaBuildTime = document.getElementById('ctaBuildTime');
        const viewOriginal = document.getElementById('viewOriginal');

        // Idea Modal
        const ideaModal = document.getElementById('ideaModal');
        const ideaModalTitle = document.getElementById('ideaModalTitle');
        const ideaModalContent = document.getElementById('ideaModalContent');
        const ideaModalClose = document.getElementById('ideaModalClose');

        // State
        let currentTier = 'all';
        let currentCategory = null;
        let currentIdea = null;

        // Combine all masterpieces
        const allMasterpieces = [
            ...MASTERPIECE_IDEAS,
            ...MORE_MASTERPIECES.map(m => ({
                ...m,
                tagline: `${m.category} tool optimized for maximum impact`,
                problem: "Common pain point in this category",
                solution: "Refined solution with unique angle",
                pros: ["Fast to build", "Clear value proposition", "Proven market"],
                cons: ["Competition exists", "Lower price ceiling"],
                whySells: "Fills a specific gap that users actively search for.",
                targetUser: `${m.category} enthusiasts and professionals`,
                keyFeatures: ["Core feature 1", "Core feature 2", "Core feature 3"]
            }))
        ];

        // Initialize
        function init() {
            renderMasterpieces();
            renderCategories();
            setupEventListeners();
        }

        function setupEventListeners() {
            // View navigation
            navBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    const view = btn.dataset.view;
                    navBtns.forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    viewSections.forEach(s => s.classList.remove('active'));
                    document.getElementById(view === 'masterpieces' ? 'masterpiecesView' : 'allIdeasView').classList.add('active');
                });
            });

            // Tier filters
            tierBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    currentTier = btn.dataset.tier;
                    tierBtns.forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    renderMasterpieces();
                });
            });

            // Modal close
            modalClose.addEventListener('click', () => masterpieceModal.classList.remove('open'));
            masterpieceModal.addEventListener('click', e => {
                if (e.target === masterpieceModal) masterpieceModal.classList.remove('open');
            });

            ideaModalClose.addEventListener('click', () => ideaModal.classList.remove('open'));
            ideaModal.addEventListener('click', e => {
                if (e.target === ideaModal) ideaModal.classList.remove('open');
            });

            document.addEventListener('keydown', e => {
                if (e.key === 'Escape') {
                    masterpieceModal.classList.remove('open');
                    ideaModal.classList.remove('open');
                }
            });

            viewOriginal.addEventListener('click', () => {
                if (currentIdea && currentIdea.originalId) {
                    masterpieceModal.classList.remove('open');
                    // Find the original file
                    for (const cat of IDEAS_DATA.categories) {
                        const idea = cat.ideas.find(i => i.id === currentIdea.originalId);
                        if (idea) {
                            openIdeaModal(`${cat.id}/${idea.file}`, idea.name);
                            break;
                        }
                    }
                }
            });
        }

        function renderMasterpieces() {
            const filtered = currentTier === 'all' 
                ? allMasterpieces 
                : allMasterpieces.filter(m => m.tier === currentTier);

            masterpieceGrid.innerHTML = filtered.map(m => `
                <div class="masterpiece-card" data-id="${m.id}">
                    <div class="card-header">
                        <div class="card-icon">${m.icon}</div>
                        <div class="card-meta">
                            <div class="card-tier tier-${m.tier.toLowerCase()}">TIER ${m.tier}</div>
                            <div class="card-name">${m.name}</div>
                            <div class="card-category">${m.category}</div>
                        </div>
                        <div class="card-score">
                            <div class="score-value">${m.score}</div>
                            <div class="score-label">Score</div>
                        </div>
                    </div>
                    ${m.tagline ? `<div class="card-tagline">"${m.tagline}"</div>` : ''}
                    <div class="card-metrics">
                        <div class="metric">
                            <div class="metric-value">${m.price}</div>
                            <div class="metric-label">Price</div>
                        </div>
                        <div class="metric">
                            <div class="metric-value">${m.buildTime || '40 hrs'}</div>
                            <div class="metric-label">Build</div>
                        </div>
                        <div class="metric">
                            <div class="metric-value">${m.monthlyPotential || '$5K+'}</div>
                            <div class="metric-label">MRR</div>
                        </div>
                    </div>
                    <div class="card-footer">
                        <div class="quick-pros">
                            ${(m.pros || []).slice(0, 2).map(p => `<span class="quick-pro">${p.split(':')[0].substring(0, 20)}</span>`).join('')}
                        </div>
                        <div class="card-cta">
                            Details
                            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M9 18l6-6-6-6"/>
                            </svg>
                        </div>
                    </div>
                </div>
            `).join('');

            // Add click handlers
            masterpieceGrid.querySelectorAll('.masterpiece-card').forEach(card => {
                card.addEventListener('click', () => {
                    const id = card.dataset.id;
                    const idea = allMasterpieces.find(m => m.id === id);
                    if (idea) openMasterpieceModal(idea);
                });
            });
        }

        function openMasterpieceModal(idea) {
            currentIdea = idea;
            modalIcon.textContent = idea.icon;
            modalTier.textContent = `TIER ${idea.tier}`;
            modalTier.className = `modal-tier tier-${idea.tier.toLowerCase()}`;
            modalTitle.textContent = idea.name;
            ctaPrice.textContent = idea.price;
            ctaBuildTime.textContent = idea.buildTime || '40 hrs build time';

            modalBody.innerHTML = `
                <!-- Score Display -->
                <div class="modal-section">
                    <div class="modal-section-title">Key Metrics</div>
                    <div class="score-display">
                        <div class="score-card">
                            <div class="score-card-value green">${idea.score}/10</div>
                            <div class="score-card-label">Masterpiece Score</div>
                        </div>
                        <div class="score-card">
                            <div class="score-card-value amber">${idea.monthlyPotential || '$5K+'}</div>
                            <div class="score-card-label">Monthly Potential</div>
                        </div>
                        <div class="score-card">
                            <div class="score-card-value blue">${idea.buildTime || '40 hrs'}</div>
                            <div class="score-card-label">Build Time</div>
                        </div>
                    </div>
                </div>

                <!-- Problem / Solution -->
                <div class="modal-section">
                    <div class="modal-section-title">Problem & Solution</div>
                    <div class="problem-solution">
                        <div class="ps-card problem">
                            <div class="ps-label">üò´ The Problem</div>
                            <div class="ps-text">${idea.problem}</div>
                        </div>
                        <div class="ps-card solution">
                            <div class="ps-label">‚úÖ The Solution</div>
                            <div class="ps-text">${idea.solution}</div>
                        </div>
                    </div>
                </div>

                ${idea.transformation ? `
                <div class="modal-section">
                    <div class="modal-section-title">Transformation</div>
                    <div class="why-sells">
                        <div class="why-sells-icon">üîÑ</div>
                        <div class="why-sells-text">${idea.transformation}</div>
                    </div>
                </div>
                ` : ''}

                <!-- Why It Sells -->
                <div class="modal-section">
                    <div class="modal-section-title">Why It Sells</div>
                    <div class="why-sells">
                        <div class="why-sells-icon">üí∞</div>
                        <div class="why-sells-text">${idea.whySells}</div>
                    </div>
                </div>

                <!-- Pros & Cons -->
                <div class="modal-section">
                    <div class="modal-section-title">Pros & Cons</div>
                    <div class="pros-cons">
                        <div class="pc-list pros">
                            <div class="pc-title">
                                <span>‚úÖ</span>
                                Pros
                            </div>
                            <ul class="pc-items">
                                ${(idea.pros || []).map(p => `<li class="pc-item">${p}</li>`).join('')}
                            </ul>
                        </div>
                        <div class="pc-list cons">
                            <div class="pc-title">
                                <span>‚ö†Ô∏è</span>
                                Cons
                            </div>
                            <ul class="pc-items">
                                ${(idea.cons || []).map(c => `<li class="pc-item">${c}</li>`).join('')}
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Key Features -->
                ${idea.keyFeatures ? `
                <div class="modal-section">
                    <div class="modal-section-title">Key Features</div>
                    <div class="features-grid">
                        ${idea.keyFeatures.map(f => `<span class="feature-tag">‚ú¶ ${f}</span>`).join('')}
                    </div>
                </div>
                ` : ''}

                <!-- Target User -->
                <div class="modal-section">
                    <div class="modal-section-title">Target User</div>
                    <div class="target-user">
                        <span class="target-icon">üë§</span>
                        <span>${idea.targetUser}</span>
                    </div>
                </div>
            `;

            masterpieceModal.classList.add('open');
        }

        function renderCategories() {
            allIdeasCount.textContent = `${IDEAS_DATA.totalIdeas} ideas`;

            categoryGrid.innerHTML = `
                <button class="category-btn active" data-cat="all">
                    <span class="category-icon">‚ú¶</span>
                    <div class="category-info">
                        <div class="category-name">All Categories</div>
                        <div class="category-count">${IDEAS_DATA.totalIdeas} ideas</div>
                    </div>
                </button>
                ${IDEAS_DATA.categories.map(cat => `
                    <button class="category-btn" data-cat="${cat.id}">
                        <span class="category-icon">${cat.icon}</span>
                        <div class="category-info">
                            <div class="category-name">${cat.name}</div>
                            <div class="category-count">${cat.ideas.length} ideas</div>
                        </div>
                    </button>
                `).join('')}
            `;

            categoryGrid.querySelectorAll('.category-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    currentCategory = btn.dataset.cat;
                    categoryGrid.querySelectorAll('.category-btn').forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    renderIdeas();
                });
            });

            renderIdeas();
        }

        function renderIdeas() {
            let ideas = [];
            
            if (currentCategory === 'all' || !currentCategory) {
                IDEAS_DATA.categories.forEach(cat => {
                    ideas = ideas.concat(cat.ideas.map(i => ({ ...i, categoryId: cat.id })));
                });
            } else {
                const cat = IDEAS_DATA.categories.find(c => c.id === currentCategory);
                if (cat) {
                    ideas = cat.ideas.map(i => ({ ...i, categoryId: cat.id }));
                }
            }

            ideasGrid.innerHTML = ideas.map(idea => `
                <div class="idea-card" data-file="${idea.categoryId}/${idea.file}" data-name="${idea.name}">
                    <div class="idea-id">#${idea.id}</div>
                    <div class="idea-name">${idea.name}</div>
                    <span class="idea-tier">${idea.tier}</span>
                </div>
            `).join('');

            ideasGrid.querySelectorAll('.idea-card').forEach(card => {
                card.addEventListener('click', () => {
                    openIdeaModal(card.dataset.file, card.dataset.name);
                });
            });
        }

        async function openIdeaModal(file, name) {
            ideaModalTitle.textContent = name;
            ideaModalContent.innerHTML = '<p style="text-align: center; color: var(--text-muted);">Loading...</p>';
            ideaModal.classList.add('open');

            try {
                const response = await fetch(file);
                if (!response.ok) throw new Error('File not found');
                const markdown = await response.text();
                ideaModalContent.innerHTML = marked.parse(markdown);
            } catch (err) {
                ideaModalContent.innerHTML = `<p style="color: var(--red);">Error loading: ${err.message}</p>`;
            }
        }

        // Initialize
        init();
    </script>
</body>
</html>
