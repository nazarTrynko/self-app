---
// The 5 Filters - Ideas enter, survivors exit
const filters = [
  {
    name: 'PAIN',
    question: 'Who hurts and how badly?',
    killThreshold: 'Vague pain = KILL',
    icon: 'üî•',
    color: 'fire',
  },
  {
    name: 'DISTRIBUTION',
    question: 'Where are they already?',
    killThreshold: 'No channel = KILL',
    icon: 'üìç',
    color: 'burn',
  },
  {
    name: 'EMOTION',
    question: 'What transformation?',
    killThreshold: 'Weak feeling = KILL',
    icon: 'üí´',
    color: 'gold',
  },
  {
    name: 'SCOPE',
    question: 'Weekend MVP possible?',
    killThreshold: '>5 days = SIMPLIFY',
    icon: '‚ö°',
    color: 'fire',
  },
  {
    name: 'MOAT',
    question: "Why can't this be copied in 30 days?",
    killThreshold: 'No answer = RETHINK',
    icon: 'üè∞',
    color: 'gold',
  },
];
---

<section id="filters" class="section">
  <div class="container-content">
    <div class="text-center mb-16">
      <span class="badge-kill mb-4 inline-block animate-on-scroll">Must Pass ALL</span>
      <h2 class="mb-4 animate-on-scroll">The 5 Filters</h2>
      <p class="text-[var(--color-text-secondary)] text-lg max-w-2xl mx-auto animate-on-scroll">
        Every idea must survive these filters. No exceptions. No mercy.
      </p>
    </div>
    
    <!-- Funnel visualization -->
    <div class="relative max-w-4xl mx-auto">
      <!-- Ideas entering indicator -->
      <div class="text-center mb-8 animate-on-scroll">
        <div class="inline-flex items-center gap-2 px-4 py-2 rounded-full bg-[var(--color-bg-surface)] border border-[var(--color-border)]">
          <span class="text-2xl">üí°</span>
          <span class="text-sm text-[var(--color-text-secondary)]">Ideas Enter Here</span>
          <span class="text-2xl">‚Üì</span>
        </div>
      </div>
      
      <!-- Filter cards -->
      <div class="space-y-4">
        {filters.map((filter, index) => (
          <div 
            class="filter-card animate-on-scroll"
            style={`--filter-width: ${100 - (index * 8)}%`}
            data-filter={filter.name.toLowerCase()}
          >
            <div 
              class="mx-auto bg-[var(--color-bg-surface)] border border-[var(--color-border)] rounded-xl p-6 hover:border-[var(--color-fire)] transition-all duration-300 cursor-pointer"
              style={`width: var(--filter-width)`}
            >
              <div class="flex items-center justify-between">
                <div class="flex items-center gap-4">
                  <span class="text-3xl">{filter.icon}</span>
                  <div>
                    <h3 class="text-xl font-bold text-gradient-fire">{filter.name}</h3>
                    <p class="text-[var(--color-text-secondary)]">{filter.question}</p>
                  </div>
                </div>
                <div class="badge-kill hidden md:block">{filter.killThreshold}</div>
              </div>
              
              <!-- Mobile kill threshold -->
              <div class="md:hidden mt-3">
                <span class="badge-kill">{filter.killThreshold}</span>
              </div>
              
              <!-- Expandable content (hidden by default) -->
              <div class="filter-details hidden mt-4 pt-4 border-t border-[var(--color-border)]">
                <p class="text-sm text-[var(--color-text-muted)]">
                  Click to expand filter details...
                </p>
              </div>
            </div>
          </div>
        ))}
      </div>
      
      <!-- Survivors indicator -->
      <div class="text-center mt-8 animate-on-scroll">
        <div class="inline-flex items-center gap-2 px-4 py-2 rounded-full bg-[var(--color-bg-surface)] border border-[var(--color-pass)]">
          <span class="text-2xl">‚Üì</span>
          <span class="text-sm text-[var(--color-pass)]">Survivors Only</span>
          <span class="text-2xl">üèÜ</span>
        </div>
      </div>
    </div>
  </div>
</section>

<style>
  .filter-card {
    transition: transform 0.3s ease;
  }
  
  .filter-card:hover {
    transform: scale(1.02);
  }
  
  /* Kill line animation on hover */
  .filter-card:hover .badge-kill {
    animation: shake 0.3s ease-in-out;
  }
  
  @keyframes shake {
    0%, 100% { transform: translateX(0); }
    25% { transform: translateX(-2px); }
    75% { transform: translateX(2px); }
  }
</style>

<script>
  // Toggle filter details on click
  document.querySelectorAll('.filter-card').forEach(card => {
    card.addEventListener('click', () => {
      const details = card.querySelector('.filter-details');
      if (details) {
        details.classList.toggle('hidden');
      }
    });
  });
</script>

