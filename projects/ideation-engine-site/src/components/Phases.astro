---
// The 5 Phases of ideation
const phases = [
  {
    number: 0,
    name: 'Know Thyself',
    subtitle: 'Pre-Ideation',
    description: 'Establish constraints, goals, and unfair advantages before generating any ideas.',
    minds: ['ORACLE'],
    outputs: ['Constraint profile for filtering ideas'],
    sections: ['Constraints', 'Goals', 'Unfair Advantages'],
  },
  {
    number: 1,
    name: 'Pain Discovery',
    subtitle: 'Find Problems Worth Solving',
    description: 'Mine for genuine pain through personal annoyance, community listening, and schlep discovery.',
    minds: ['ORACLE', 'CREATOR'],
    outputs: ['10 pain points with schlep analysis', 'Tarpit warnings', 'Personal connection to each pain'],
    sections: ['Personal Annoyance Mine', 'Community Listening', 'Schlep Discovery', 'Tarpit Detection'],
  },
  {
    number: 2,
    name: 'Pre-Validation',
    subtitle: 'Before Building Anything',
    description: 'The pre-sale test. Get 10 people to commit before writing a single line of code.',
    minds: ['CRITIC', 'GUARDIAN'],
    outputs: ['Survived ideas with pre-validation evidence'],
    sections: ['Landing Page Test', 'Pre-Sell Test', 'Competitive Alternative'],
  },
  {
    number: 3,
    name: 'Positioning First',
    subtitle: 'Define Before You Build',
    description: 'Before features, define position. Who will love this most?',
    minds: ['ORACLE', 'CREATOR'],
    outputs: ['Complete positioning document BEFORE features'],
    sections: ['Best-Fit Customer', 'Category Decision', 'Emotional Positioning', 'Status Positioning'],
  },
  {
    number: 4,
    name: 'MVP Scoping',
    subtitle: 'Ruthless Cuts',
    description: 'The weekend shipping test. If it can\'t be built in a weekend, simplify.',
    minds: ['ARCHITECT', 'GUARDIAN'],
    outputs: ['Ruthlessly scoped MVP with time estimate'],
    sections: ['Three-Tweet MVP', 'Weekend Test', 'Leverage Check', 'Feature Prison Avoidance'],
  },
  {
    number: 5,
    name: 'Launch Strategy',
    subtitle: 'Ship It',
    description: 'Product Hunt playbook. Build the narrative, find the channel, define the metrics.',
    minds: ['CREATOR', 'ORACLE'],
    outputs: ['Launch plan with specific channels and metrics'],
    sections: ['Launch Narrative', 'Shareability Test', 'Distribution Advantage', 'Metric Definition'],
  },
];
---

<section id="phases" class="section">
  <div class="container-content">
    <div class="text-center mb-16">
      <h2 class="mb-4 animate-on-scroll">The 6 Phases</h2>
      <p class="text-[var(--color-text-secondary)] text-lg max-w-2xl mx-auto animate-on-scroll">
        A systematic journey from self-awareness to launch.
      </p>
    </div>
    
    <!-- Phase timeline -->
    <div class="relative max-w-4xl mx-auto">
      <!-- Vertical line -->
      <div class="absolute left-8 md:left-1/2 top-0 bottom-0 w-px bg-gradient-to-b from-[var(--color-fire)] via-[var(--color-gold)] to-[var(--color-pass)]"></div>
      
      <!-- Phases -->
      <div class="space-y-8">
        {phases.map((phase, index) => (
          <div 
            class={`relative flex items-start gap-8 animate-on-scroll ${index % 2 === 0 ? 'md:flex-row' : 'md:flex-row-reverse'}`}
            style={`--index: ${index}`}
          >
            <!-- Timeline dot -->
            <div class="absolute left-8 md:left-1/2 -translate-x-1/2 w-4 h-4 rounded-full bg-[var(--color-fire)] border-4 border-[var(--color-bg-deep)] z-10"></div>
            
            <!-- Content card -->
            <div class={`ml-16 md:ml-0 md:w-[calc(50%-2rem)] ${index % 2 === 0 ? 'md:pr-8' : 'md:pl-8'}`}>
              <div class="phase-card card group cursor-pointer" data-phase={phase.number}>
                <!-- Header -->
                <div class="flex items-start justify-between mb-4">
                  <div>
                    <span class="text-sm font-mono text-[var(--color-fire)]">Phase {phase.number}</span>
                    <h3 class="text-xl font-bold text-[var(--color-text-primary)]">{phase.name}</h3>
                    <p class="text-sm text-[var(--color-text-muted)]">{phase.subtitle}</p>
                  </div>
                  <div class="flex gap-1">
                    {phase.minds.map(mind => (
                      <span class="text-xs px-2 py-1 rounded bg-[var(--color-bg-elevated)] text-[var(--color-fire)]">
                        {mind}
                      </span>
                    ))}
                  </div>
                </div>
                
                <!-- Description -->
                <p class="text-[var(--color-text-secondary)] mb-4">{phase.description}</p>
                
                <!-- Expandable sections -->
                <div class="phase-details hidden">
                  <div class="pt-4 border-t border-[var(--color-border)]">
                    <p class="text-xs font-semibold text-[var(--color-text-muted)] uppercase tracking-wider mb-2">Sections</p>
                    <div class="flex flex-wrap gap-2 mb-4">
                      {phase.sections.map(section => (
                        <span class="text-xs px-2 py-1 rounded bg-[var(--color-bg-elevated)] text-[var(--color-text-secondary)]">
                          {section}
                        </span>
                      ))}
                    </div>
                    
                    <p class="text-xs font-semibold text-[var(--color-text-muted)] uppercase tracking-wider mb-2">Output</p>
                    <ul class="space-y-1">
                      {phase.outputs.map(output => (
                        <li class="text-sm text-[var(--color-pass)] flex items-center gap-2">
                          <span>â†’</span> {output}
                        </li>
                      ))}
                    </ul>
                  </div>
                </div>
                
                <!-- Expand indicator -->
                <div class="flex items-center gap-2 text-[var(--color-text-muted)] text-sm mt-4 group-hover:text-[var(--color-fire)] transition-colors">
                  <span class="expand-text">Click to expand</span>
                  <svg class="w-4 h-4 transition-transform expand-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                  </svg>
                </div>
              </div>
            </div>
          </div>
        ))}
      </div>
    </div>
  </div>
</section>

<style>
  .phase-card.expanded .expand-icon {
    transform: rotate(180deg);
  }
  
  .phase-card.expanded .expand-text {
    display: none;
  }
</style>

<script>
  document.querySelectorAll('.phase-card').forEach(card => {
    card.addEventListener('click', () => {
      const details = card.querySelector('.phase-details');
      if (details) {
        details.classList.toggle('hidden');
        card.classList.toggle('expanded');
      }
    });
  });
</script>

